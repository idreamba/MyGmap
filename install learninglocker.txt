connect Ubuntu on AWS
——

ssh -i "AWS-WIN-idreamba2015.pem" ubuntu@52.76.92.136

ในครั้งแรกให้ตั้งรหัส su

sudo su
passwd lovesom2010

exit

sudo apt-get update

sudo dpkg-reconfigure tzdata

change your timezone Asia > Bangkok

// reboot

sudo reboot now

//
configure your hostname and FQDN.

sudo vi /etc/hosts

พิมพ์ i เพื่อแก้ไข กด ~ เพื่อออกแล้ว :wq เพื่อเซฟแล้วออกจาก vi

เพิ่มคำสั่ง

127.0.0.1 localhost
172.31.19.41 learninglocker.idreamba.com learninglocker

# The following lines are desirable for IPv6 capable hosts
::1 ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts

เพิ่ม
sudo vi /etc/hostname

ใส่ learninglocker

เซฟ แล้ว sudo reboot now

จะเปลี่ยน command เป็น ubuntu@learninglocker:~$

install git
—
sudo apt-get install git

—
intialise GIT repository
—
sudo git init

sudo apt-get install make

sudo apt-get install postfix FQDN
เลือก internet site

เปลี่ยน myhostname ได้ภายหลัง

sudo vi /etc/postfix/main.cf

10.4	Change the “myhostname” field to your FQDN e.g.

myhostname = learninglocker.idreamba.com


—

restart postfix

sudo /etc/init.d/postfix reload



sudo vi /etc/postfix/master.cf
เอา # หน้า submission ออก จะได้

submission inet n - - - - smtpd

save :wq

restart postfix
sudo service postfix restart

—
ติดตั้ง nginx server

sudo -s

nginx=stable

apt-get -y install python-software-properties

add-apt-repository ppa:nginx/$nginx

apt-get update

apt-get upgrade -y

apt-get -y install nginx

service nginx start

exit
—

install and start PHP 5.5:

sudo -s

add-apt-repository ppa:ondrej/php5

apt-get update

apt-get upgrade –y

apt-get -y install php5-fpm php5-mcrypt php5-sqlite sqlite php5-cli php5-xcache php5-curl

exit

—
ในกรณีที่ติดตั้งไม่ได้ ใส่ apt-get install php5-cli

php -v

—
ติดตั้ง composer

sudo -s

dd if=/dev/zero of=/swapfile bs=1024 count=512k

mkswap /swapfile

swapon /swapfile

exit

sudo vi /etc/fstab
เพิ่มข้อความ /swapfile none swap sw 0 0
เซฟ

พิมพ์คำสั่ง
echo 10 | sudo tee /proc/sys/vm/swappiness
echo vm.swappiness = 10 | sudo tee -a /etc/sysctl.conf

sudo chown root:root /swapfile
sudo chmod 0600 /swapfile

//
ติดตั้ง composer
sudo curl -sS https://getcomposer.org/installer | php

ย้าย path 
sudo mv composer.phar /usr/local/bin/composer

สร้างไฟล์ mongo_install.bash

เพิ่มข้อความ
apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10
echo deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen | tee -a /etc/apt/sources.list.d/10gen.list
apt-get -y update
apt-get -y install mongodb-10gen

ติดตั้ง
sudo bash ./mongo_install.bash

ถ้าติดตั้งไม่ได้ให้ใช้คำสั่ง
sudo apt-get install mongodb-server

ติดตั้ง mongoDB php driver
sudo apt-get install php-pear php5-dev

sudo pecl install mongo
เลือก no

แก้ไขไฟล์
sudo vi /etc/php5/fpm/conf.d/mongo.ini

พิมพ์ extension=mongo.so
เซฟ :wq


sudo service nginx restart

